<h1>Group Invitations</h1>

<%= tag.div(flash[:alert], style: "color:red") if flash[:alert] %>
<%= tag.div(flash[:notice], style: "color:green") if flash[:notice] %>

<% if @invitations.any? %>
  <p>You have <%= pluralize(@invitations.count, "pending invitation") %>:</p>

  <div class="invitations-list">
    <% @invitations.each do |invitation| %>
      <div class="invitation-card" style="border: 1px solid #ccc; padding: 1rem; margin: 1rem 0;">
        <h3><%= invitation.group.name %></h3>
        <p>
          <strong>Invited by:</strong> <%= invitation.invited_by.first_name %> <%= invitation.invited_by.last_name %>
        </p>
        <p>
          <strong>Invited:</strong> <%= time_ago_in_words(invitation.created_at) %> ago
        </p>
        <div class="invitation-actions">
          <%= button_to "Accept", accept_group_invitation_path(invitation), method: :post, style: "background: green; color: white; padding: 0.5rem 1rem; border: none; cursor: pointer;" %>
          <%= button_to "Decline", decline_group_invitation_path(invitation), method: :post, style: "background: red; color: white; padding: 0.5rem 1rem; border: none; cursor: pointer; margin-left: 0.5rem;" %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p>You have no pending invitations.</p>
<% end %>

<%= link_to "Back to groups", groups_path %>
